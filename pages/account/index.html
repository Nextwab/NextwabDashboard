<div class="Frame flex" ng-controller="User_Controller as User" ng-init="User.init(Dashboard); User.load()">

    <div class="Frame_Header Frame_Account_Header">


        <div class="Account_Balance">
            <img src="/ressources/images/Flat-UI-Vault.png" class="img-50">
            <b>Mon solde :</b>
            <h2>{{User.data.Balance| number : 2}} €</h2>


        </div>

        <div class="Account_Profil">
            <table class="table-user">
                <tr>
                    <td>
                        <div class="img-user">
                            <img src="/ressources/images/no_user.jpg" />
                        </div>
                    </td>

                    <td>
                        <h1>{{User.data.User_FirstName}} {{User.data.User_LastName}}</h1>
                        {{User.data.Address_StreetNumber}} {{User.data.Address_StreetName}}<br />
                        {{User.data.Address_ZipCode}} {{User.data.Address_City}}  {{User.data.Address_Country}} 
                    </td>
                </tr>
            </table>
        </div>


        <div class="Frame_Header_Footer">
            <span class="button"><i class="fas fa-plus-circle"></i> Ajouter du solde</span>

            <div class="right">
                <a href="/account/edit/" class="button"><i class="fas fa-user-edit"></i> Éditer</a>
                <span class="button"><i class="fas fa-sign-out-alt"></i> Déconnexion</span>
            </div>
        </div>
    </div>

    <div class="Frame_Contenair">

        <br />

        <table class="width-full">
            <tr>
                <td class="v-align-top">
                    <div class="Domains IndexItemContenair" ng-controller="Domain_Controller as Domain" ng-init="Domain.init(Dashboard)">

                        <h1>Mes Domaines</h1>
                        <div style="min-height:22px">
                            <div ng-if="Domain.Dashboard.VPS_Focused != null">
                                Sur le serveur {{Domain.Dashboard.VPS_Focused.Hostname}} : 

                                <b ng-if="Domain.Dashboard.VPS_Focused_DomainsHosted">
                                    {{Domain.Dashboard.VPS_Focused_DomainsHosted}}
                                    Domaine(s) 
                                </b>

                                <b ng-if="!Domain.Dashboard.VPS_Focused_DomainsHosted" class="color-red">
                                    <i class="far fa-times-circle"></i> Aucun 
                                </b>
                            </div>
                        </div>

                        <div ng-repeat="Domain_Data in Domain.Listing" class="List_Item List_Item_ForRack ID_CloudDevice_{{Domain_Data.ID_CloudDevice}}" 
                             ng-click="Domain.menu(Domain_Data)" 
                             ng-mouseover="Domain.Dashboard.VPS_Controller.ServerOver({ID:Domain_Data.ID_CloudDevice})" 
                             ng-mouseleave="Domain.Dashboard.VPS_Controller.ServerLeave({ID:Domain_Data.ID_CloudDevice})">

                            <table class="width-full" title="{{Domain_Data.StateMessage}}">
                                <tr>
                                    <td class="td-icon" ><i class="fas {{Domain_Data.State ? 'fa-globe-americas' : 'fa-exclamation-triangle' }}"></i><span class="bull {{Domain_Data.Enabled && Domain_Data.State ? 'green' : 'red' }}"></span></td>
                                    <td>
                                        <b>{{Domain_Data.Domain}}</b>
                                    </td>
                                </tr>
                            </table>

                        </div>

                        <br /><br />
                        <span class="button button_mini" ng-click="Domain.Dashboard.ServicePopup.openNew({Endpoint : 'Domain', Action:'Add', Title:'Ajouter un domaine'})"><i class="fas fa-plus-circle"></i> Ajouter un domaine</span>
                        <a class="button button_mini" href="/domains"><i class="fas fa-cog"></i> Gérer mes domaines</a>


                    </div>

                    <br /><br />

                    <div class="Databases IndexItemContenair" ng-controller="Database_Controller as DatabaseUser" ng-init="DatabaseUser.init(Dashboard);">
                        <h1>Mes bases de données</h1>
                        <div style="min-height:22px">
                            <div ng-if="DatabaseUser.Dashboard.VPS_Focused != null">
                                Sur le serveur {{DatabaseUser.Dashboard.VPS_Focused.Hostname}} : 

                                <b ng-if="DatabaseUser.Dashboard.VPS_Focused_DatabasesHosted">
                                    {{DatabaseUser.Dashboard.VPS_Focused_DatabasesHosted}}
                                    Base(s) de données
                                </b>

                                <b ng-if="!DatabaseUser.Dashboard.VPS_Focused_DatabasesHosted" class="color-red">
                                    <i class="far fa-times-circle"></i> Aucun 
                                </b>
                            </div>
                        </div>

                        <span ng-repeat="DatabaseUser_Data in DatabaseUser.Listing">
                            <div ng-repeat="Database_Data in DatabaseUser_Data.Databases" class="List_Item List_Item_ForRack ID_CloudDevice_{{DatabaseUser_Data.ID_CloudDevice}}"
                                 ng-mouseover="DatabaseUser.Dashboard.VPS_Controller.ServerOver({ID:DatabaseUser_Data.ID_CloudDevice})" 
                                 ng-mouseleave="DatabaseUser.Dashboard.VPS_Controller.ServerLeave({ID:DatabaseUser_Data.ID_CloudDevice})"
                                 >

                                <table class="width-full">
                                    <tr>
                                        <td class="td-icon"><i class="fas fa-database"></i></td>
                                        <td>
                                            <b>{{Database_Data.Database_Name}}</b>
                                        </td>
                                    </tr>
                                </table>

                            </div>
                        </span>

                        <br /><br />
                        <span class="button button_mini" ng-click="DatabaseUser.Dashboard.ServicePopup.openNew({Endpoint : 'Database', Action:'Add_User', Title:'Ajouter un utilisateur MySQL'})"><i class="fas fa-plus-circle"></i> Ajouter une base de données</span>
                        <a class="button button_mini" href="/mysql/"><i class="fas fa-cog"></i> Gérer mes bases de données</a>


                    </div>

                </td>

                <td class="v-align-top text-align-right">

                    <div class="rack" ng-controller="VPS_Controller as VPS" ng-init="VPS.init(Dashboard); VPS.LoadRacks()">
                        <div ng-repeat="VPS_Data in VPS.Rack[0]" style="z-index:{{100 - $index}}" class="server server_{{VPS_Data.ID}} {{VPS_Data.PowerState == 'started' ? 'green' : ''}} {{VPS_Data.PowerState == 'stopped' ? 'red' : ''}}  " 
                             ng-mouseover="VPS.ServerOver(VPS_Data)" ng-mouseleave="VPS.ServerLeave(VPS_Data)"
                             >
                            <div class="face front">
                                <b ng-if="VPS_Data.State == '_loaded'">{{VPS_Data.Hostname}}</b>
                                <b ng-if="VPS_Data.State == '_empty'">Ajouter un serveur</b>
                                <b ng-if="VPS_Data.State == '_loading'">...</b>
                                <span class="power">
                                    <i class="fas 
                                       {{VPS_Data.State == '_loaded' ?  'fa-power-off' : '' }} 
                                       {{VPS_Data.State == '_loading' ?  ' fa-sync-alt fa-spin' : '' }} 
                                       {{VPS_Data.State == '_empty' ?  ' fa-plus-circle  ' : '' }} 
                                       "></i>
                                </span>
                            </div>
                            <div class="face back"> </div>
                            <div class="face top"></div>
                            <div class="face bottom"> </div>
                            <div class="face left"><span class="line"></span></div>
                            <div class="face right"></div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>




    </div>